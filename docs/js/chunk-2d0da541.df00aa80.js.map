{"version":3,"sources":["webpack:///./src/components/ModifyingAForceLayoutI.vue?a4b1","webpack:///src/components/ModifyingAForceLayoutI.vue","webpack:///./src/components/ModifyingAForceLayoutI.vue?f494","webpack:///./src/components/ModifyingAForceLayoutI.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","staticClass","attrs","staticRenderFns","data","mounted","restart","node","nodes","d","exit","remove","enter","append","attr","link","links","merge","simulation","force","alpha","ticked","d3","push","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIM,GAAG,8BAA8BF,EAAG,MAAM,CAACG,YAAY,mBAAmBC,MAAM,CAAC,MAAQ,MAAM,OAAS,YAC3NC,EAAkB,G,YCOtB,GACEC,KADF,WAEI,MAAO,IAETC,QAJF,WAKI,IAAJ,gBACA,kBACA,mBACA,iBAEA,WACA,WACA,WACA,UACA,KAEA,YACA,wCACA,sCACA,oBACA,oBACA,eACA,aAEA,+DACA,kFACA,kFAwBI,SAASC,IAEPC,EAAOA,EAAKH,KAAKI,GAAO,SAAUC,GAAxC,eACMF,EAAKG,OAAOC,SACZJ,EAAOA,EAAKK,QAAQC,OAAO,UAAUC,KAAK,QAAQ,SAAUL,GAAlE,uCAGMM,EAAOA,EAAKX,KAAKY,GAAO,SAAUP,GAAxC,sCACMM,EAAKL,OAAOC,SACZI,EAAOA,EAAKH,QAAQC,OAAO,QAAQI,MAAMF,GAGzCG,EAAWV,MAAMA,GACjBU,EAAWC,MAAM,QAAQH,MAAMA,GAC/BE,EAAWE,MAAM,GAAGd,UAGtB,SAASe,IACPd,EAAKO,KAAK,MAAM,SAAUL,GAAhC,cACA,uBAAQ,OAAR,OAEMM,EAAKD,KAAK,MAAM,SAAUL,GAAhC,qBACA,uBAAQ,OAAR,cACA,uBAAQ,OAAR,cACA,uBAAQ,OAAR,cA/CIH,IAEAgB,EAAJ,iBACMN,EAAMO,KAAK,CAAjB,oBACMP,EAAMO,KAAK,CAAjB,oBACMP,EAAMO,KAAK,CAAjB,oBACMjB,MACN,OC1CgW,I,YCO5VkB,EAAY,eACd,EACA/B,EACAU,GACA,EACA,KACA,KACA,MAIa,aAAAqB,E","file":"js/chunk-2d0da541.df00aa80.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h2',[_vm._v(\"Modifying a Force Layout\")]),_c('svg',{staticClass:\"container-border\",attrs:{\"width\":\"960\",\"height\":\"500\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <h2>Modifying a Force Layout</h2>\r\n    <svg width=\"960\" height=\"500\" class=\"container-border\"></svg>\r\n  </div>\r\n</template>\r\n<script>\r\nimport * as d3 from 'd3'\r\nexport default {\r\n  data () {\r\n    return {}\r\n  },\r\n  mounted () {\r\n    let svg = d3.select('svg')\r\n    let width = svg.attr('width')\r\n    let height = svg.attr('height')\r\n    let color = d3.scaleOrdinal(d3.schemeCategory10)\r\n\r\n    let a = { id: 'a' }\r\n    let b = { id: 'b' }\r\n    let c = { id: 'c' }\r\n    let nodes = [a, b, c]\r\n    let links = []\r\n\r\n    let simulation = d3.forceSimulation(nodes)\r\n      .force('charge', d3.forceManyBody().strength(-1000))\r\n      .force('link', d3.forceLink(links).distance(200))\r\n      .force('x', d3.forceX())\r\n      .force('y', d3.forceY())\r\n      .alphaTarget(1)\r\n      .on('tick', ticked)\r\n\r\n    let g = svg.append('g').attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')')\r\n    let link = g.append('g').attr('stroke', '#000').attr('stroke-width', 1.5).selectAll('.link')\r\n    let node = g.append('g').attr('stroke', '#fff').attr('stroke-width', 1.5).selectAll('.node')\r\n    restart()\r\n\r\n    d3.timeout(function () {\r\n      links.push({ source: a, target: b })\r\n      links.push({ source: b, target: c })\r\n      links.push({ source: c, target: a })\r\n      restart()\r\n    }, 1000)\r\n\r\n    // d3.interval(function () {\r\n    //   nodes.pop()\r\n    //   links.pop()\r\n    //   links.pop()\r\n    //   restart()\r\n    // }, 2000, d3.now())\r\n\r\n    // d3.interval(function () {\r\n    //   nodes.push(c)\r\n    //   links.push({ source: b, target: c })\r\n    //   links.push({ source: c, target: a })\r\n    //   restart()\r\n    // }, 2000, d3.now() + 1000)\r\n\r\n    function restart () {\r\n      // Apply the general update pattern to the nodes\r\n      node = node.data(nodes, function (d) { return d.id })\r\n      node.exit().remove()\r\n      node = node.enter().append('circle').attr('fill', function (d) { return color(d.id) }).attr('r', 8).merge(node)\r\n\r\n      // // Apply the general update pattern to the links\r\n      link = link.data(links, function (d) { return d.source.id + '-' + d.target.id })\r\n      link.exit().remove()\r\n      link = link.enter().append('line').merge(link)\r\n\r\n      // Update and restart the simulation\r\n      simulation.nodes(nodes)\r\n      simulation.force('link').links(links)\r\n      simulation.alpha(1).restart()\r\n    }\r\n\r\n    function ticked () {\r\n      node.attr('cx', function (d) { return d.x })\r\n        .attr('cy', function (d) { return d.y })\r\n\r\n      link.attr('x1', function (d) { return d.source.x })\r\n        .attr('y1', function (d) { return d.source.y })\r\n        .attr('x2', function (d) { return d.target.x })\r\n        .attr('y2', function (d) { return d.target.y })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModifyingAForceLayoutI.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModifyingAForceLayoutI.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ModifyingAForceLayoutI.vue?vue&type=template&id=3b226dcb&\"\nimport script from \"./ModifyingAForceLayoutI.vue?vue&type=script&lang=js&\"\nexport * from \"./ModifyingAForceLayoutI.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}