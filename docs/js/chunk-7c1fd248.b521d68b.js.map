{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/core-js/modules/_string-html.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./src/components/ForceBasedLabelPlacementIII.vue?2e5a","webpack:///./node_modules/core-js/modules/web.dom.iterable.js","webpack:///./node_modules/core-js/modules/es6.string.link.js","webpack:///./src/components/ForceBasedLabelPlacementIII.vue?40a6","webpack:///src/components/ForceBasedLabelPlacementIII.vue","webpack:///./src/components/ForceBasedLabelPlacementIII.vue?63bb","webpack:///./src/components/ForceBasedLabelPlacementIII.vue"],"names":["_unsupportedIterableToArray","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","_arrayWithoutHoles","arr","isArray","arrayLikeToArray","_iterableToArray","iter","Symbol","iterator","_nonIterableSpread","TypeError","_toConsumableArray","unsupportedIterableToArray","$export","fails","defined","quot","createHTML","string","tag","attribute","value","S","String","p1","replace","module","exports","NAME","exec","O","P","F","toLowerCase","split","length","_arrayLikeToArray","len","i","arr2","$iterators","getKeys","redefine","global","hide","Iterators","wks","ITERATOR","TO_STRING_TAG","ArrayValues","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","key","explicit","Collection","proto","url","this","render","_vm","_h","$createElement","_c","_self","staticClass","_v","attrs","staticRenderFns","data","color","graph","label","labelLayout","graphLayout","width","height","adjlist","svg","container","link","node","labelNode","mounted","d3","nodes","forEach","d","self","push","links","source","target","index","append","attr","restart","setTimeout","methods","exit","remove","enter","id","merge","force","ticked","updateNode","updateLink","each","shiftX","Math","max","b","min","setAttribute","fixna","shiftY","x","y","isFinite","component"],"mappings":"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","file":"js/chunk-7c1fd248.b521d68b.js","sourcesContent":["import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","var $export = require('./_export');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar quot = /\"/g;\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\nvar createHTML = function (string, tag, attribute, value) {\n  var S = String(defined(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\nmodule.exports = function (NAME, exec) {\n  var O = {};\n  O[NAME] = exec(createHTML);\n  $export($export.P + $export.F * fails(function () {\n    var test = ''[NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  }), 'String', O);\n};\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ForceBasedLabelPlacementIII.vue?vue&type=style&index=0&lang=css&\"","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","'use strict';\n// B.2.3.10 String.prototype.link(url)\nrequire('./_string-html')('link', function (createHTML) {\n  return function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  };\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"force-base-iii\"},[_c('h2',[_vm._v(\"Force-based label placement III\")]),_c('svg',{staticClass:\"container-border\",attrs:{\"id\":\"viz\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"force-base-iii\">\r\n    <h2>Force-based label placement III</h2>\r\n    <svg id=\"viz\" class=\"container-border\"></svg>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as d3 from 'd3'\r\nimport jsonData from '../assets/json/simple_force_layout.json'\r\n// import jsonData from '../assets/json/simple_force_layout_2.json' // 金融数据\r\n// import jsonData from '../assets/json/simple_force_layout_3.json' // 新基建数据\r\nexport default {\r\n  name: 'ForceBasedLabelPlacement',\r\n  data () {\r\n    return {\r\n      color: null,\r\n      graph: null,\r\n      label: null,\r\n      labelLayout: null,\r\n      graphLayout: null,\r\n      width: 1250,\r\n      height: 800,\r\n      adjlist: [],\r\n      svg: null,\r\n      container: null,\r\n      link: null,\r\n      node: null,\r\n      labelNode: null\r\n    }\r\n  },\r\n  mounted () {\r\n    let self = this\r\n    this.color = d3.scaleOrdinal(d3.schemeCategory10)\r\n    this.graph = jsonData\r\n    this.label = {\r\n      'nodes': [],\r\n      'links': []\r\n    }\r\n    this.graph.nodes.forEach(function (d, i) {\r\n      self.label.nodes.push({ node: d })\r\n      self.label.nodes.push({ node: d })\r\n      self.label.links.push({\r\n        source: i * 2,\r\n        target: i * 2 + 1\r\n      })\r\n    })\r\n\r\n    this.graphLayout = d3.forceSimulation(this.graph.nodes)\r\n      .force('charge', d3.forceManyBody().strength(-500))\r\n      .force('x', d3.forceX(this.width / 2))\r\n      .force('y', d3.forceY(this.height / 2))\r\n      .force('link', d3.forceLink(this.graph.links).id(function (d) { return d.id }).distance(100))\r\n      .on('tick', self.ticked)\r\n\r\n    this.graph.links.forEach(function (d) {\r\n      self.adjlist[d.source.index + '-' + d.target.index] = true\r\n      self.adjlist[d.target.index + '-' + d.source.index] = true\r\n    })\r\n\r\n    this.svg = d3.select('#viz').attr('width', this.width).attr('height', this.height)\r\n    this.container = this.svg.append('g')\r\n\r\n    this.svg.call(\r\n      d3.zoom()\r\n        .scaleExtent([1.6 / 2, 4])\r\n        .on('zoom', function () {\r\n          self.container.attr('transform', d3.event.transform)\r\n        })\r\n    )\r\n\r\n    this.link = this.container.append('g').attr('class', 'links')\r\n      .selectAll('line')\r\n\r\n    self.node = this.container.append('g').attr('class', 'nodes')\r\n      .selectAll('g')\r\n\r\n    this.labelNode = this.container.append('g').attr('class', 'labelNodes')\r\n      .selectAll('text')\r\n\r\n    this.restart()\r\n\r\n    setTimeout(() => {\r\n      let addData = [{ 'id': 'Four', 'group': 4 }, { 'id': 'Five', 'group': 5 }]\r\n      let addLinks = [{ 'source': 'Four', 'target': 'Five', 'value': 3 }, { 'source': 'Five', 'target': 'Feuilly', 'value': 4 }]\r\n      this.graph.nodes = [...this.graph.nodes, ...addData]\r\n      this.graph.links = [...this.graph.links, ...addLinks]\r\n      this.restart()\r\n    }, 1000)\r\n  },\r\n  methods: {\r\n    restart () {\r\n      let self = this\r\n      this.node = this.node.data(this.graph.nodes, function (d) { return d.id })\r\n      this.node.exit().remove()\r\n      this.node = this.node.enter().append('circle').attr('fill', function (d) {\r\n        return self.color(d.id)\r\n      }).attr('r', 5).merge(this.node)\r\n\r\n      this.link = this.link.data(this.graph.links, function (d) {\r\n        return d.source.id + '-' + d.target.id\r\n      })\r\n      this.link.exit().remove()\r\n      this.link = this.link.enter().append('line').merge(this.link)\r\n      this.labelNode = this.labelNode.data(this.graph.nodes, function (d) {\r\n        return d.id\r\n      })\r\n      this.labelNode.exit().remove()\r\n      this.labelNode = this.labelNode.enter().append('text').merge(this.labelNode)\r\n        .text(function (d) {\r\n          return d.id\r\n        })\r\n        .style('fill', '#555')\r\n        .style('font-size', 12)\r\n        .style('pointer-events', 'none')\r\n\r\n      this.graphLayout.nodes(this.graph.nodes)\r\n      this.graphLayout.force('link').links(this.graph.links)\r\n    },\r\n    ticked () {\r\n      let self = this\r\n      self.node.call(self.updateNode)\r\n      self.link.call(self.updateLink)\r\n\r\n      self.labelNode.each(function (d, i) {\r\n        if (i % 2 === 0) {\r\n          // d.x = d.x\r\n          // d.y = d.y\r\n        } else {\r\n          let b = this.getBBox()\r\n          let diffX = d.x - d.x\r\n          let diffY = d.y - d.y\r\n\r\n          let dist = Math.sqrt(diffX * diffX + diffY * diffY)\r\n\r\n          let shiftX = b.width * (diffX - dist) / (dist * 2)\r\n          shiftX = Math.max(-b.width, Math.min(0, shiftX))\r\n          let shiftY = 16\r\n          this.setAttribute('transform', 'translate(' + self.fixna(shiftX) + ',' + shiftY + ')')\r\n        }\r\n      })\r\n      self.labelNode.call(self.updateNode)\r\n    },\r\n    updateLink () {\r\n      let self = this\r\n      self.link.attr('x1', function (d) { return self.fixna(d.source.x) })\r\n        .attr('y1', function (d) { return self.fixna(d.source.y) })\r\n        .attr('x2', function (d) { return self.fixna(d.target.x) })\r\n        .attr('y2', function (d) { return self.fixna(d.target.y) })\r\n    },\r\n    updateNode (node) {\r\n      let self = this\r\n      node.attr('transform', function (d) {\r\n        return 'translate(' + self.fixna(d.x) + ',' + self.fixna(d.y) + ')'\r\n      })\r\n    },\r\n    fixna (x) {\r\n      if (isFinite(x)) return x\r\n      return 0\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.force-base-iii .links line {\r\n  stroke: #999;\r\n  stroke-opacity: 0.6;\r\n}\r\n\r\n.force-base-iii .nodes circle {\r\n  stroke: black;\r\n  stroke-width: 0px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ForceBasedLabelPlacementIII.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ForceBasedLabelPlacementIII.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ForceBasedLabelPlacementIII.vue?vue&type=template&id=66ccd892&\"\nimport script from \"./ForceBasedLabelPlacementIII.vue?vue&type=script&lang=js&\"\nexport * from \"./ForceBasedLabelPlacementIII.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ForceBasedLabelPlacementIII.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}